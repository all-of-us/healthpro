<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{% block title %}{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ asset('dist/css/lib.min.css') }}?v={{ app.assetVer }}">
    <link rel="stylesheet" href="{{ asset('dist/css/app.min.css') }}?v={{ app.assetVer }}">
    <link rel="stylesheet" href="{{ asset('css/dashboard.css') }}?v={{ app.assetVer }}">
    <link rel="stylesheet" href="{{ asset('css/jquery-ui.min.css') }}?v=1.12.0" />
    <!--[if lt IE 9]>
        <script src="{{ asset('js/html5shiv.min.js') }}"></script>
        <script src="{{ asset('js/respond.min.js') }}"></script>
    <![endif]-->

    {# pass parameters to JS #}
    <script>
        var PMI = {
            "sessionTimeout": {{ app.sessionTimeout|json_encode|raw }},
            "sessionWarning": {{ app.sessionWarning|json_encode|raw }},
            "path": {
                "clientTimeout": {{ path('clientTimeout')|json_encode|raw }},
                "logout": {{ path('logout')|json_encode|raw }},
                "keepAlive": {{ path('keepAlive')|json_encode|raw }},
                "agreeUsage": {{ path('agreeUsage')|json_encode|raw }},
                "switchSite": {{ path('switchSite', {id: "SITE_ID"})|json_encode|raw }}
            },
            "isLoggedIn": {{ is_granted('IS_AUTHENTICATED_FULLY')|json_encode|raw }},
            "isLogin": {{ app.session.get('isLogin')|json_encode|raw }},
            "isUsageAgreed": {{ app.session.get('isUsageAgreed')|json_encode|raw }},
            "views": {}
        };
    </script>
    <script src="{{ asset('dist/js/all.min.js') }}?v={{ app.assetVer }}"></script>
    <script src="{{ asset('js/dashboard.js') }}?v={{ app.assetVer }}"></script>
    <script src="{{ asset('js/jquery-ui.min.js') }}?v=1.12.0"></script>
    <script src="{{ asset('js/plotly.min.js') }}?v=1.17.3"></script>
    <script src="{{ asset('js/spin.min.js') }}?v=2.3.2"></script>
</head>
<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#pmi-navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="{{ path('dashboard_home') }}">Home</a>
            </div>
            <div class="collapse navbar-collapse" id="pmi-navbar-collapse">
                <ul class="nav navbar-nav">
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="{{ path('logout') }}">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div id="flash-notices">
            {% for flashMessage in app.session.flashbag.get('error') %}
                <div class="alert alert-danger">{{ flashMessage }}</div>
            {% endfor %}
            {% for flashMessage in app.session.flashbag.get('notice') %}
                <div class="alert alert-info">{{ flashMessage }}</div>
            {% endfor %}
        </div>

        {% block body %}{% endblock %}
    </div>


    {% block pagejs %}{% endblock %}
</body>
</html>
